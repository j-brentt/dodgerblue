{% extends "base.html" %}
{% block title %}Friends{% endblock %}
{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/check_follow.css' %}">

<div class="header">
    <div class="user-info">
        <h2>
            <a href="{% url 'stream' %}" style="text-decoration: none; color: inherit;">DodgerBlue</a>
        </h2>
    </div>
    <div class="nav-links">
        <a href="{% url 'entries:create_entry' %}" class="new-entry-btn">New Entry</a>
        <a href="{{ author.get_absolute_url }}">View Profile</a>
        <a href="{% url 'authors:explore-authors'  %}">Explore Authors</a>
        <a href="{% url 'authors:follow_requests' %}">Follow Requests{% if pending_follow_requests_count %} ({{ pending_follow_requests_count }}){% endif %}</a>
        <a href="{% url 'entries:my_entries'  %}">My Entries</a>  

        <form action="{% url 'authors:logout' %}" method="post" class="logout-form">
            {% csrf_token %}
            <button type="submit" class="logout-btn">Logout</button>
        </form>
    </div>
</div>
<div class="card profile-card">
    <div class="profile-header">
        <div class="profile-meta">
            <h1 class="profile-username">@{{ profile_author.username }}</h1>
        </div>
    </div>

    <div class="profile-section">
        <h2>Friends</h2>
        {% if users %}
        <ul class="entry-list">
            {% for user in users %}
            <li class="entry-item" style="display: flex; align-items: center; gap: 10px;">
                {% if user.profile_image %}
                <img src="{{ user.profile_image }}" alt="{{ user.display_name }}" style="width: 40px; height: 40px; border-radius: 50%;">
                {% else %}
                <div class="profile-avatar placeholder" style="width: 40px; height: 40px; border-radius: 50%; background: #ddd; display: flex; align-items: center; justify-content: center;">
                    {{ user.display_name|first|upper }}
                </div>
                {% endif %}
                <a href="{{ user.get_absolute_url }}" style="text-decoration: none; color: inherit;">
                    <h3 style="margin: 0;">{{ user.display_name }}</h3>
                    <p class="entry-description" style="margin: 0;">@{{ user.username }}</p>
                </a>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No friends found.</p>
        {% endif %}
    </div>

    <div style="margin-top: 16px;">
        <a href="{% url 'stream' %}" class="return-link">‚Üê Return to Stream</a>
    </div>
</div>
<style>
    .a, .a:visited {
        color: #1E90FF;
    }
</style>
{% endblock %}

